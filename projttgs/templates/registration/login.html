<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Class Routine Optimizer | Login</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	<script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
	{% load static %}
	<link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
	
	<style>
		body {
			padding-top: 3.5rem;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
		}
		
		.login-container {
			max-width: 450px;
			margin: 80px auto;
			padding: 40px;
			background: white;
			border-radius: 10px;
			box-shadow: 0 10px 40px rgba(0,0,0,0.2);
		}
		
		.login-header {
			text-align: center;
			margin-bottom: 30px;
		}
		
		.login-header h2 {
			color: #257a7a;
			font-weight: bold;
			margin-bottom: 10px;
		}
		
		.login-header p {
			color: #666;
			font-size: 14px;
		}
		
		.form-group label {
			color: #333;
			font-weight: 500;
			margin-bottom: 8px;
		}
		
		.form-control {
			border: 2px solid #e0e0e0;
			border-radius: 5px;
			padding: 12px 15px;
			font-size: 14px;
			transition: all 0.3s;
		}
		
		.form-control:focus {
			border-color: #257a7a;
			box-shadow: 0 0 0 0.2rem rgba(37, 122, 122, 0.25);
		}
		
		.btn-login {
			width: 100%;
			background-color: #257a7a;
			border: none;
			color: white;
			padding: 12px;
			border-radius: 5px;
			font-size: 16px;
			font-weight: 600;
			margin-top: 10px;
			transition: all 0.3s;
		}
		
		.btn-login:hover {
			background-color: #1a5a5a;
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(37, 122, 122, 0.3);
		}
		
		.register-link {
			text-align: center;
			margin-top: 20px;
			padding-top: 20px;
			border-top: 1px solid #e0e0e0;
		}
		
		.register-link a {
			color: #257a7a;
			text-decoration: none;
			font-weight: 500;
		}
		
		.register-link a:hover {
			text-decoration: underline;
		}
		
		.alert {
			border-radius: 5px;
			margin-bottom: 20px;
		}
		
		.back-home {
			text-align: center;
			margin-top: 15px;
		}
		
		.back-home a {
			color: #666;
			text-decoration: none;
			font-size: 14px;
		}
		
		.back-home a:hover {
			color: #257a7a;
		}
	</style>
</head>
<body>
	<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
		<a class="navbar-brand" href="{% url 'index' %}"><b>Class Routine Optimizer</b></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarCollapse">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item">
					<a class="nav-link" href="{% url 'index' %}">Home</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{% url 'help' %}">Help</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" href="{% url 'login' %}">Login</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{% url 'register' %}">Sign Up</a>
				</li>
			</ul>
		</div>
	</nav>

	<div class="login-container">
		<div class="login-header">
			<h2><i class="fas fa-sign-in-alt"></i> Login</h2>
			<p>Sign in to access your dashboard</p>
		</div>

		{% if form.errors %}
			<div class="alert alert-danger">
				<strong>Error!</strong> Your username and password didn't match. Please try again.
			</div>
		{% endif %}

		{% if next %}
			{% if user.is_authenticated %}
				<div class="alert alert-warning">
					Your account doesn't have access to this page. To proceed, please login with an account that has access.
				</div>
			{% else %}
				<div class="alert alert-info">
					Please login to see this page.
				</div>
			{% endif %}
		{% endif %}

		<form method="post" action="{% url 'login' %}">
			{% csrf_token %}
			
			<div class="form-group">
				<label for="id_username"><i class="fas fa-user"></i> Username</label>
				<input type="text" name="username" class="form-control" id="id_username" required autofocus>
			</div>

			<div class="form-group">
				<label for="id_password"><i class="fas fa-lock"></i> Password</label>
				<input type="password" name="password" class="form-control" id="id_password" required>
			</div>

			<input type="hidden" name="next" value="{{ next }}" />

			<button type="submit" class="btn btn-login">
				<i class="fas fa-sign-in-alt"></i> Login
			</button>
		</form>

		<div class="register-link">
			<p>Don't have an account? <a href="{% url 'register' %}">Sign up here</a></p>
		</div>

		<div class="back-home">
			<a href="{% url 'index' %}"><i class="fas fa-arrow-left"></i> Back to Home</a>
		</div>
	</div>
</body>
</html>

